ðŸš¨ Ð’Ð˜ÐšÐžÐÐÐ™Ð¢Ð• Ð¦Ð† ÐšÐžÐœÐÐÐ”Ð˜ Ð§Ð•Ð Ð•Ð— SSH Ð¯Ðš ROOT
==========================================

ÐšÐžÐœÐÐÐ”Ð 1: ÐŸÐµÑ€ÐµÐ¹Ñ‚Ð¸ Ð² Ð¿Ð°Ð¿ÐºÑƒ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ñƒ
-----------------------------------
cd /var/www/pashland/data/www/g-shop.info


ÐšÐžÐœÐÐÐ”Ð 2: ÐžÐ½Ð¾Ð²Ð¸Ñ‚Ð¸ ÐºÐ¾Ð´
----------------------
git pull origin main


ÐšÐžÐœÐÐÐ”Ð 3: ÐŸÐµÑ€ÐµÐ¹Ñ‚Ð¸ Ð² backend
-----------------------------
cd backend


ÐšÐžÐœÐÐÐ”Ð 4: Ð’Ð¸Ð´Ð°Ð»Ð¸Ñ‚Ð¸ ÑÑ‚Ð°Ñ€Ñ– Ð¼Ð¾Ð´ÑƒÐ»Ñ– Ñ‚Ð° Ð²ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ð¸ Ð½Ð¾Ð²Ñ–
----------------------------------------------------
rm -rf node_modules
npm install
npm install @strapi/strapi@4.25.13


ÐšÐžÐœÐÐÐ”Ð 5: Ð¡Ñ‚Ð²Ð¾Ñ€Ð¸Ñ‚Ð¸ .env Ñ„Ð°Ð¹Ð»
------------------------------
cat > .env << 'EOF'
NODE_ENV=production
HOST=0.0.0.0
PORT=3002
APP_KEYS=toBeModified1,toBeModified2
API_TOKEN_SALT=tobemodified
ADMIN_JWT_SECRET=tobemodified
JWT_SECRET=QWJjMTIzNDU2Nzg5MDEyMzQ1Njc4OTAxMjM0NTY3ODkwMTI=
DATABASE_CLIENT=sqlite
DATABASE_FILENAME=./database.db
EOF


ÐšÐžÐœÐÐÐ”Ð 6: ÐŸÐ¾Ð±ÑƒÐ´ÑƒÐ²Ð°Ñ‚Ð¸ Strapi
-----------------------------
npm run build


ÐšÐžÐœÐÐÐ”Ð 7: Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚Ð¸ Strapi Ð½Ð°Ð¿Ñ€ÑÐ¼Ñƒ
------------------------------------
PORT=3002 npm run start &


ÐÐ‘Ðž ÐÐ›Ð¬Ð¢Ð•Ð ÐÐÐ¢Ð˜Ð’ÐÐž (ÑÐºÑ‰Ð¾ Ð¿Ð¾Ð¿ÐµÑ€ÐµÐ´Ð½Ñ” Ð½Ðµ Ð¿Ñ€Ð°Ñ†ÑŽÑ”):
---------------------------------------------
NODE_ENV=production HOST=0.0.0.0 PORT=3002 npx strapi start &


ÐšÐžÐœÐÐÐ”Ð 8: ÐŸÐµÑ€ÐµÐ²Ñ–Ñ€Ð¸Ñ‚Ð¸ Ñ‡Ð¸ Ð¿Ñ€Ð°Ñ†ÑŽÑ”
--------------------------------
curl http://localhost:3002/api/products


==========================================
Ð“ÐžÐ¢ÐžÐ’Ðž! Ð¡Ð°Ð¹Ñ‚ Ð¼Ð°Ñ” Ð¿Ñ€Ð°Ñ†ÑŽÐ²Ð°Ñ‚Ð¸ Ð½Ð° https://g-shop.info